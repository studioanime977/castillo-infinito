<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>StudioOtaku - Descarga tus animes favoritos</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="description" content="Descarga tus animes favoritos gratis. StudioOtaku - La mejor plataforma de anime en espa√±ol." />
  <meta name="keywords" content="anime, descargar anime, anime gratis, anime espa√±ol, StudioOtaku" />
  <meta name="language" content="Spanish" />
  <link rel="icon" type="image/x-icon" href="img/demon-slayer.ico" />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { overflow-x: hidden; }
    body {
      background: linear-gradient(180deg, #1a0030 0%, #0d0d0d 100%);
      color: #fff;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif, 'Noto Color Emoji', 'Apple Color Emoji', 'Segoe UI Emoji', 'Twemoji Mozilla', 'EmojiOne Color', 'Android Emoji';
    }
    
    /* Asegurar que los emojis se muestren correctamente */
    .emoji {
      font-family: 'Noto Color Emoji', 'Apple Color Emoji', 'Segoe UI Emoji', 'Twemoji Mozilla', 'EmojiOne Color', 'Android Emoji', sans-serif;
      font-style: normal;
      font-weight: normal;
      line-height: 1;
      text-rendering: optimizeLegibility;
      font-feature-settings: "liga" off;
      -webkit-font-feature-settings: "liga" off;
      -moz-font-feature-settings: "liga" off;
      font-variant-emoji: emoji;
      display: inline-block;
    }
    
    /* Fallback para navegadores que no soportan emojis */
    @supports not (font-variant-emoji: emoji) {
      .emoji {
        font-size: 1.2em;
        vertical-align: middle;
      }
    }
    
    /* Alternativa con s√≠mbolos Unicode m√°s compatibles */
    .symbol {
      font-family: 'Segoe UI Symbol', 'Symbola', 'DejaVu Sans', sans-serif;
      font-weight: bold;
      color: #ff5cad;
      text-shadow: 0 0 5px rgba(255, 92, 173, 0.5);
    }
    header {
      background: linear-gradient(135deg, #2d0040 0%, #1a0026 100%);
      padding: 1rem;
      text-align: center;
      border-bottom: 3px solid #ff5cad;
      box-shadow: 0 4px 20px rgba(255, 92, 173, 0.3);
    }
    header h1 {
      font-size: 2.5rem;
      color: #ff5cad;
      background: linear-gradient(45deg, #ff5cad , #3a004f 0%, #2d0040 50%, #3a004f 100%);
      background-clip: text;
    }
    nav {
      background: linear-gradient(90deg, #3a004f 0%, #2d0040 50%, #3a004f 100%);
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 1rem;
      padding: 0.8rem;
      border-bottom: 2px solid #ff5cad55;
    }
    nav a {
      color: #fff;
      text-decoration: none;
      font-weight: bold;
      padding: 0.4rem 0.8rem;
      background: linear-gradient(45deg, #600088, #7a00aa);
      border-radius: 10px;
      transition: all 0.3s;
    }
    nav a:hover {
      background: linear-gradient(45deg, #ff5cad, #ff66cc);
      color: #000;
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(255, 92, 173, 0.4);
    }
    .search-bar {
      max-width: 600px;
      margin: 1rem auto;
      display: flex;
      gap: 0.5rem;
    }
    .search-bar input {
      flex: 1;
      padding: 0.6rem;
      border: 2px solid #ff5cad;
      border-radius: 10px;
      background: linear-gradient(145deg, #1a0030 0%, #2a0040 100%);
      color: #fff;
      font-size: 1rem;
      transition: all 0.3s ease;
    }
    .search-bar input:focus {
      border-color: #ff66cc;
      box-shadow: 0 0 15px rgba(255, 92, 173, 0.3);
      background: linear-gradient(145deg, #2a0040 0%, #3a0050 100%);
    }
    .search-bar button {
      padding: 0.6rem 1rem;
      border: none;
      border-radius: 10px;
      background: linear-gradient(45deg, #ff5cad, #ff66cc);
      color: #000;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(255, 92, 173, 0.3);
    }
    .search-bar button:hover {
      background: linear-gradient(45deg, #ff66cc, #ff88dd);
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(255, 92, 173, 0.5);
    }
    main {
      max-width: 1200px;
      margin: auto;
      padding: 2rem 1rem;
    }
    .section-title {
      text-align: center;
      font-size: 2rem;
      color: #00f0ff;
      margin: 2rem 0 1rem;
      text-shadow: 0 0 20px rgba(0, 240, 255, 0.5);
      background: linear-gradient(45deg, #00f0ff, #00d4ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .anime-section-title {
      text-align: center;
      font-size: 1.5rem;
      color: #ff5cad;
      margin: 3rem 0 1.5rem;
      padding: 0.5rem 1rem;
      background: linear-gradient(135deg, #1a0030 0%, #2d0040 50%, #1a0030 100%);
      border-radius: 15px;
      border: 2px solid #ff5cad55;
      text-shadow: 1px 1px #000, 0 0 10px rgba(255, 92, 173, 0.5);
      box-shadow: 0 4px 20px rgba(255, 92, 173, 0.2);
      position: relative;
      overflow: hidden;
    }
    .anime-section-title::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 92, 173, 0.1), transparent);
      transition: left 1s ease;
    }
    .anime-section-title:hover::before {
      left: 100%;
    }
    .anime-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1.5rem;
      justify-items: center;
    }
    .anime-card {
      background: linear-gradient(145deg, #1c0030 0%, #2a0040 100%);
      border: 2px solid #ff5cad55;
      border-radius: 12px;
      padding: 1rem;
      text-align: center;
      box-shadow: 0 0 15px rgba(255, 92, 173, 0.3);
      transition: all 0.3s ease;
      max-width: 320px;
      width: 100%;
      position: relative;
      overflow: hidden;
    }
    .anime-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 92, 173, 0.1), transparent);
      transition: left 0.5s;
    }
    .anime-card:hover::before {
      left: 100%;
    }
    .anime-card:hover {
      transform: scale(1.05);
      box-shadow: 0 0 30px rgba(255, 92, 173, 0.6);
      border-color: #ff5cad;
    }
    .anime-card img {
      width: 100%;
      border-radius: 10px;
      margin-bottom: 1rem;
    }
    .anime-card h3 {
      margin-bottom: 0.5rem;
      color: #ffddff;
    }
    .anime-card a {
      background: #ff5cad;
      color: #000;
      font-weight: bold;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      text-decoration: none;
      transition: background 0.3s;
    }
    .anime-card a:hover {
      background: #ffa8e0;
    }
    .footer-folder {
      background: #1b1b1b;
      padding: 2rem 1rem;
      border-top: 4px solid #ff5cad;
      color: #fff;
    }
    .footer-folder section {
      margin-bottom: 2rem;
      text-align: center;
    }
    .footer-folder h3 {
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
      color: #00f0ff;
    }
    .footer-folder a {
      display: inline-block;
      margin: 0.3rem;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-weight: bold;
      transition: 0.3s;
      text-decoration: none;
    }
    .footer-folder a:hover {
      opacity: 0.8;
    }
    .apk { background: #00e0ff; color: #000; }
    .whatsapp { background: #25d366; color: #000; }
    .youtube { background: #ff0000; color: #fff; }
    .facebook { background: #1877f2; color: #fff; }
    .rumble { background: #2ecc71; color: #fff; }
    .hashtags {
      margin-top: 1rem;
    }
    .hashtags span {
      display: inline-block;
      margin: 0.2rem;
      padding: 0.4rem 0.8rem;
      font-size: 0.75rem;
      border-radius: 12px;
      background: #64003b;
      color: #ffccff;
    }
    footer {
      text-align: center;
      border-top: 1px solid #333;
      padding-top: 1.5rem;
      font-size: 0.9rem;
    }
    footer p {
      margin: 0.3rem 0;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      20% { transform: translateY(-10px); }
      40% { transform: translateY(-20px); }
      60% { transform: translateY(-10px); }
      80% { transform: translateY(0); }
    }

    .floating-request {
      position: fixed;
      left: 2rem;
      bottom: 2rem;
      background: #00e0ff;
      color: #000;
      padding: 0.8rem 1.2rem;
      border-radius: 50px;
      font-weight: bold;
      text-decoration: none;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      transition: background 0.3s, transform 0.3s;
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: bounce 1.5s infinite;
    }
    .floating-request:hover {
      background: #ff5cad;
      color: #fff;
      transform: scale(1.08);
      animation: none;
    }

    /* Bot√≥n ir arriba - DERECHA */
    .floating-home {
      position: fixed;
      right: 2rem;
      bottom: 6.5rem;
      font-size: 2rem;
      width: 48px;
      height: 48px;
      padding: 0;
      background: #ff5cad;
      color: #000;
      border-radius: 50px;
      font-weight: bold;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      text-decoration: none;
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.3s, transform 0.3s, opacity 0.3s;
      opacity: 0;
      pointer-events: none;
    }
    .floating-home.visible {
      opacity: 1;
      pointer-events: auto;
    }
    .floating-home:hover {
      background: #ffa8e0;
      color: #fff;
      transform: scale(1.08);
    }

    /* Estilos para autenticaci√≥n */
    .user-actions {
      margin-top: 1rem;
      display: flex;
      justify-content: center;
      gap: 1rem;
      flex-wrap: wrap;
    }
    .auth-btn {
      background: linear-gradient(45deg, #ff5cad, #ff66cc);
      color: #000;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
      box-shadow: 0 2px 8px rgba(255, 92, 173, 0.3);
      border: 1px solid #ff5cad55;
    }
    .auth-btn:hover {
      background: linear-gradient(45deg, #ff66cc, #ff88dd);
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(255, 92, 173, 0.5);
    }
    #username-display {
      color: #00f0ff;
      font-weight: bold;
      margin-right: 1rem;
    }
    #vip-status {
      background: #ffd700;
      color: #000;
      padding: 0.25rem 0.5rem;
      border-radius: 15px;
      font-size: 0.8rem;
      font-weight: bold;
      margin-right: 1rem;
    }
    .google-btn {
      background: linear-gradient(45deg, #4285f4, #5c9eff);
      color: #fff;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      box-shadow: 0 2px 8px rgba(66, 133, 244, 0.4);
      border: 1px solid #4285f455;
    }
    .google-btn:hover {
      background: linear-gradient(45deg, #3367d6, #4285f4);
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(66, 133, 244, 0.6);
    }
    .google-icon {
      width: 18px;
      height: 18px;
    }
    .user-profile {
      display: flex;
      align-items: center;
      gap: 0.8rem;
      background: linear-gradient(145deg, rgba(255, 92, 173, 0.1) 0%, rgba(255, 102, 204, 0.15) 100%);
      padding: 0.5rem 1rem;
      border-radius: 12px;
      border: 1px solid #ff5cad55;
      box-shadow: 0 2px 10px rgba(255, 92, 173, 0.2);
      backdrop-filter: blur(5px);
    }
    .user-picture {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 2px solid #ff5cad;
      object-fit: cover;
      box-shadow: 0 2px 8px rgba(255, 92, 173, 0.4);
      transition: all 0.3s ease;
    }
    .user-picture:hover {
      transform: scale(1.1);
      box-shadow: 0 4px 15px rgba(255, 92, 173, 0.6);
    }
    .user-info {
      display: flex;
      flex-direction: column;
      gap: 0.2rem;
    }
    .user-info span {
      font-size: 0.9rem;
      color: #ffddff;
    }
    
    /* Estilos para Google en modales */
    .google-login-section {
      text-align: center;
      margin-bottom: 1.5rem;
    }
    .modal-google-btn {
      width: 100%;
      justify-content: center;
      padding: 0.8rem 1rem;
      font-size: 1rem;
      margin-bottom: 1rem;
    }
    .divider {
      position: relative;
      text-align: center;
      margin: 1.5rem 0;
    }
    .divider::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, #ff5cad55, transparent);
    }
    .divider span {
      background: linear-gradient(145deg, #1a0030 0%, #2d0040 100%);
      padding: 0 1rem;
      color: #ff5cad;
      font-weight: bold;
      font-size: 0.9rem;
    }

    /* Estilos para modales */
    .modal {
      position: fixed;
      z-index: 2000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.8);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .modal.hidden {
      display: none;
    }
    .modal-content {
      background: linear-gradient(145deg, #1a0030 0%, #2d0040 100%);
      border: 2px solid #ff5cad;
      border-radius: 15px;
      padding: 2rem;
      max-width: 500px;
      width: 90%;
      max-height: 90vh;
      overflow-y: auto;
      position: relative;
      box-shadow: 0 0 40px rgba(255, 92, 173, 0.4);
      backdrop-filter: blur(10px);
    }
    .close {
      position: absolute;
      right: 1rem;
      top: 1rem;
      font-size: 2rem;
      cursor: pointer;
      color: #ff5cad;
    }
    .close:hover {
      color: #ffa8e0;
    }
    .modal h2 {
      color: #ff5cad;
      margin-bottom: 1.5rem;
      text-align: center;
    }
    .modal form {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    .modal input {
      padding: 0.75rem;
      border: 2px solid #ff5cad55;
      border-radius: 8px;
      background: linear-gradient(145deg, #2a0040 0%, #3a0050 100%);
      color: #fff;
      font-size: 1rem;
      transition: all 0.3s ease;
    }
    .modal input:focus {
      border-color: #ff5cad;
      outline: none;
      box-shadow: 0 0 15px rgba(255, 92, 173, 0.3);
      background: linear-gradient(145deg, #3a0050 0%, #4a0060 100%);
    }
    .modal button {
      background: linear-gradient(45deg, #ff5cad, #ff66cc);
      color: #000;
      border: none;
      padding: 0.75rem;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 1rem;
      box-shadow: 0 2px 10px rgba(255, 92, 173, 0.3);
    }
    .modal button:hover {
      background: linear-gradient(45deg, #ff66cc, #ff88dd);
      transform: translateY(-2px);
      box-shadow: 0 4px 20px rgba(255, 92, 173, 0.5);
    }
    .modal p {
      text-align: center;
      margin-top: 1rem;
    }
    .modal a {
      color: #ff5cad;
      text-decoration: none;
      font-weight: bold;
      transition: all 0.3s ease;
    }
    .modal a:hover {
      color: #ff66cc;
      text-shadow: 0 0 10px rgba(255, 92, 173, 0.5);
      text-decoration: none;
    }

    /* Estilos para VIP */
    .vip-info h3 {
      color: #00f0ff;
      margin-bottom: 1rem;
    }
    .vip-info ul {
      list-style: none;
      margin-bottom: 1.5rem;
    }
    .vip-info li {
      margin: 0.5rem 0;
      padding-left: 1rem;
    }
    .pricing {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }
    .price-option {
      background: linear-gradient(145deg, #2a0040 0%, #3a0050 100%);
      padding: 1rem;
      border-radius: 8px;
      text-align: center;
      border: 1px solid #ff5cad55;
      box-shadow: 0 2px 10px rgba(255, 92, 173, 0.2);
      transition: all 0.3s ease;
    }
    .price-option:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(255, 92, 173, 0.3);
      border-color: #ff5cad;
    }
    .price-option h4 {
      color: #ff5cad;
      margin-bottom: 0.5rem;
    }
    .price {
      font-size: 1.5rem;
      font-weight: bold;
      color: #00f0ff;
      margin-bottom: 0.25rem;
    }
    .period {
      color: #ccc;
      font-size: 0.9rem;
    }
    .payment-methods h4 {
      color: #00f0ff;
      margin-bottom: 1rem;
    }
    .payment-buttons {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }
    .paypal-btn, .cop-btn {
      flex: 1;
      padding: 0.75rem;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      text-decoration: none;
      text-align: center;
      transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    }
    .paypal-btn {
      background: linear-gradient(45deg, #0070ba, #005ea6);
      color: #fff;
      border: 1px solid #0070ba55;
    }
    .paypal-btn:hover {
      background: linear-gradient(45deg, #005ea6, #004080);
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(0, 112, 186, 0.4);
    }
    .cop-btn {
      background: linear-gradient(45deg, #ffd700, #ffed4e);
      color: #000;
      border: 1px solid #ffd70055;
    }
    .cop-btn:hover {
      background: linear-gradient(45deg, #ffed4e, #fff200);
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
    }

    /* Estilos para formulario de pago */
    .payment-details {
      background: linear-gradient(145deg, #2a0040 0%, #3a0050 100%);
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1rem;
      border: 1px solid #ff5cad55;
      box-shadow: 0 2px 10px rgba(255, 92, 173, 0.2);
    }
    .payment-details p {
      margin: 0.5rem 0;
      text-align: left;
    }
    .user-info {
      background: #2a0040;
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1rem;
    }
    .user-info h4 {
      color: #00f0ff;
      margin-bottom: 1rem;
      text-align: center;
    }
    .user-info input {
      margin-bottom: 0.5rem;
    }
    .payment-instructions {
      background: #2a0040;
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1rem;
    }
    .payment-instructions h4 {
      color: #00f0ff;
      margin-bottom: 0.5rem;
    }
    .payment-instructions ol {
      margin: 0;
      padding-left: 1.5rem;
    }
    .payment-instructions li {
      margin: 0.5rem 0;
      text-align: left;
    }
    .bank-info {
      background: #1a0020;
      padding: 1rem;
      border-radius: 8px;
      margin: 1rem 0;
      border: 2px solid #ff5cad55;
    }
    .bank-key {
      background: #ff5cad;
      color: #000;
      padding: 0.25rem 0.5rem;
      border-radius: 5px;
      font-weight: bold;
      font-family: monospace;
      font-size: 1.1rem;
    }
    .payment-note {
      background: #2a0040;
      padding: 1rem;
      border-radius: 8px;
      margin-top: 1rem;
      border-left: 4px solid #00f0ff;
    }
    .payment-details-info {
      background: #1a0020;
      padding: 1rem;
      border-radius: 8px;
      margin-top: 1rem;
      border: 1px solid #ff5cad55;
    }
    .payment-details-info p {
      margin: 0.5rem 0;
      font-size: 0.9rem;
      text-align: left;
    }
    .file-upload {
      background: #2a0040;
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1rem;
      text-align: center;
    }
    .file-info {
      font-size: 0.8rem;
      color: #ccc;
      margin-top: 0.5rem;
    }

    /* Bot√≥n VIP en las tarjetas de anime */
    .vip-lock {
      background: linear-gradient(45deg, #ffd700, #ffed4e);
      color: #000;
      padding: 0.6rem 1rem;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
      border: none;
      width: 100%;
      margin-top: 0.5rem;
      font-size: 0.9rem;
      box-shadow: 0 2px 8px rgba(255, 215, 0, 0.3);
      text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.5);
    }
    .vip-lock:hover {
      background: linear-gradient(45deg, #ffed4e, #ffd700);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(255, 215, 0, 0.4);
    }
  </style>
</head>
<body>

  <header>
    <h1>üßßStudioOtaku ‚Ä¢ Anime a la cartaüé¨</h1>
    <div class="floating-request">
      
    </div>
    <div class="user-actions">
      <div id="guest-actions">
        <button onclick="showModal('login')" class="auth-btn"><span class="symbol">üîí</span> Iniciar Sesi√≥n</button>
        <button onclick="showModal('register')" class="auth-btn"><span class="symbol">‚úé</span> Registrarse</button>
      </div>
      <div id="user-actions" style="display: none;">
        <div class="user-profile">
          <img id="user-picture" src="" alt="Foto de perfil" class="user-picture">
          <div class="user-info">
            <span id="username-display"></span>
            <span id="vip-status"></span>
          </div>
        </div>
        <button onclick="logout()" class="auth-btn"><span class="symbol">‚ö¨</span> Cerrar Sesi√≥n</button>
      </div>
    </div>
  </header>

  <nav>
    <a href="#">Inicio</a>
    <a href="#">G√©neros</a>
    <a href="#">Estrenos</a>
    <a href="#">Top Anime</a>
    <a href="#">Contacto</a>
    <a href="https://exe.io/ANIMETV" target="_blank" class="apk">üì• Descargar APK</a>
  </nav>

  <!-- Barra de b√∫squeda -->
  <div class="search-bar">
    <input type="text" placeholder="Buscar anime..." />
    <button>
      <span class="symbol" style="font-size:1.2rem;">üîç</span>
    </button>
  </div>

  <main>
    <h2 class="section-title"><span class="symbol">‚ñ†</span> Animes disponibles para descarga</h2>
    
    <!-- Kimetsu no Yaiba (Demon Slayer) -->
    <h3 class="anime-section-title"><span class="symbol">‚öî</span> Kimetsu no Yaiba (Demon Slayer)</h3>
    <div class="anime-grid">
      <div class="anime-card">
        <img src="img/Kimetsu No Yaiba temporada 1.png" alt="Kimetsu No Yaiba T1">
        <h3>Kimetsu No Yaiba - Temp 1</h3>
        <a href="https://exe.io/KimetsuNoYaibaS1" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/tem 2 Kimetsu no Yaiba.png" alt="Kimetsu No Yaiba T2">
        <h3>Kimetsu No Yaiba - Temp 2</h3>
        <a href="https://exe.io/tem2KimetsunoYaiba" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/Kimetsu No Yaiba temporada 3.jpg" alt="Kimetsu No Yaiba T3">
        <h3>Kimetsu No Yaiba - Temp 3</h3>
        <a href="https://exe.io/kimetsuS3" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/kimetsu tem 4.png" alt="Kimetsu No Yaiba T4">
        <h3>Kimetsu No Yaiba - Temp 4</h3>
        <a href="https://exe.io/kimetsuS4" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/Kimetsu no Yaiba Tren Infino.png" alt="Kimetsu No Yaiba Tren Infinito">
        <h3>Kimetsu No Yaiba - Tren Infinito</h3>
        <a href="https://exe.io/KimetsunoYaibaTrenInfino" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/entrenamiento pilar.png" alt="Kimetsu No Yaiba Entrenamiento Pilar">
        <h3>Kimetsu No Yaiba - Entrenamiento Pilar</h3>
        <a href="https://exe.io/entrenamientopilar" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/castillo infinito.png" alt="Castillo Infinito">
        <h3>Castillo Infinito (Sub)</h3>
        <a href="https://exe.io/SUBTCastillofullhd" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/Demon Slayer Kimetsu No Yaiba rugido de victoria.png" alt="Kimetsu No Yaiba Rugido de Victoria">
        <h3>Kimetsu No Yaiba - Rugido de Victoria</h3>
        <a href="https://exe.io/KimetsuNoYaibarugidodevictoria" target="_blank">Descargar</a>
      </div>
    </div>

    <!-- Nanatsu no Taizai (Los 7 Pecados Capitales) -->
    <h3 class="anime-section-title">‚öîÔ∏è Nanatsu no Taizai (Los 7 Pecados Capitales)</h3>
    <div class="anime-grid">
      <div class="anime-card">
        <img src="img/Nanatsu no taizai TEM  1.jpg" alt="Nanatsu no Taizai T1">
        <h3>Nanatsu no Taizai - Temp 1</h3>
        <a href="https://exe.io/NanatsunotaizaiTEM1" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/Nanatsu no taizai TEM  2.jpg" alt="Nanatsu no Taizai T2">
        <h3>Nanatsu no Taizai - Temp 2</h3>
        <a href="https://exe.io/NanatsunotaizaiTEM2" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/Nanatsu no taizai TEM 3.jpg" alt="Nanatsu no Taizai T3">
        <h3>Nanatsu no Taizai - Temp 3</h3>
        <a href="https://exe.io/NanatsunotaizaiTEM3" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/Nanatsu no taizai TEM  4.jpg" alt="Nanatsu no Taizai T4">
        <h3>Nanatsu no Taizai - Temp 4</h3>
        <a href="https://exe.io/NanatsunotaizaiTEM4" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/Nanatsu no taizai TEM  5.jpg" alt="Nanatsu no Taizai T5">
        <h3>Nanatsu no Taizai - Temp 5</h3>
        <a href="https://exe.io/NanatsunotaizaiTEM5" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/Nanatsu no taizai Prisioneros del Cielo.png" alt="Nanatsu no Taizai: Prisioneros del Cielo">
        <h3>Nanatsu no Taizai: Prisioneros del Cielo</h3>
        <a href="https://exe.io/NanatsuPrisionerosdelCielo" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/Nanatsu no taizai TEM La Maldici√≥n de la Luz .jpg" alt="Los 7 Pecados: La Maldici√≥n de la Luz">
        <h3>Los 7 Pecados: La Maldici√≥n de la Luz</h3>
        <a href="https://exe.io/7pecadosLaMaldiciondelaLuz" target="_blank">Descargar</a>
      </div>
    </div>

    <!-- Re:Zero -->
    <h3 class="anime-section-title">üîÑ Re:Zero</h3>
    <div class="anime-grid">
      <div class="anime-card">
        <img src="img/rezeroS1.png" alt="Re:Zero S1">
        <h3>Re:Zero - Temp 1</h3>
        <a href="https://exe.io/ReZeroS1" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/rezeroS2.png" alt="Re:Zero S2">
        <h3>Re:Zero - Temp 2</h3>
        <a href="https://exe.io/ReZeroS2" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/ReZeroS3.png" alt="Re:Zero S3">
        <h3>Re:Zero - Temp 3</h3>
        <a href="https://exe.io/ReZeroS3" target="_blank">Descargar</a>
      </div>
    </div>

    <!-- Solo Leveling -->
    <h3 class="anime-section-title">üëë Solo Leveling</h3>
    <div class="anime-grid">
      <div class="anime-card">
        <img src="img/Solo Leveling season 1.jpg" alt="Solo Leveling T1">
        <h3>Solo Leveling - Temp 1</h3>
        <a href="https://exe.io/sololevelingS1" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/Solo Leveling season 2.jpg" alt="Solo Leveling T2">
        <h3>Solo Leveling - Temp 2</h3>
        <a href="https://exe.io/SoloLevelingS2" target="_blank">Descargar</a>
      </div>
    </div>

    <!-- Sakamoto Days -->
    <h3 class="anime-section-title">üíº Sakamoto Days</h3>
    <div class="anime-grid">
      <div class="anime-card">
        <img src="img/sakamoto-days-art.jpg" alt="Sakamoto Days">
        <h3>Sakamoto Days - Temp 1</h3>
        <a href="https://exe.io/sakamotodays" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/Sakamoto days season 2 .png" alt="Sakamoto Days T2">
        <h3>Sakamoto Days - Temp 2</h3>
        <a href="https://exe.io/sakamotodaysS2" target="_blank">Descargar</a>
      </div>
    </div>

    <!-- Classroom of the Elite -->
    <h3 class="anime-section-title">üéì Classroom of the Elite</h3>
    <div class="anime-grid">
      <div class="anime-card">
        <img src="img/classroom of the elite  season 1.png" alt="Classroom of the Elite T1">
        <h3>Classroom of the Elite - Temp 1</h3>
        <a href="https://exe.io/classroomoftheelites1" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/classroom of the elite  season 2.png" alt="Classroom of the Elite T2">
        <h3>Classroom of the Elite - Temp 2</h3>
        <a href="https://exe.io/classroomoftheelites2" target="_blank">Descargar</a>
      </div>
    </div>

    <!-- Mashle -->
    <h3 class="anime-section-title">üí™ Mashle</h3>
    <div class="anime-grid">
      <div class="anime-card">
        <img src="img/Mashle  temporada 1.png" alt="Mashle T1">
        <h3>Mashle - Temp 1</h3>
        <a href="https://exe.io/Mashletemporada1" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/mashle temporada 2.jpg" alt="Mashle T2">
        <h3>Mashle - Temp 2</h3>
        <a href="https://exe.io/Mashletem2" target="_blank">Descargar</a>
      </div>
    </div>

    <!-- Boku no Hero Academia -->
    <h3 class="anime-section-title">ü¶∏‚Äç‚ôÇÔ∏è Boku no Hero Academia</h3>
    <div class="anime-grid">
      <div class="anime-card">
        <img src="img/BokunoHeroAcademia S1.png" alt="Boku no Hero Academia T1">
        <h3>Boku no Hero Academia - Temp 1</h3>
        <a href="https://exe.io/BokunoHeroAcademiaS1" target="_blank">Descargar</a>
      </div>
    </div>

    <!-- Horimiya -->
    <h3 class="anime-section-title">üíï Horimiya</h3>
    <div class="anime-grid">
      <div class="anime-card">
        <img src="img/horimiya-the-missing-pieces-key-visual-tall.png" alt="Horimiya T1">
        <h3>Horimiya - Temp 1</h3>
        <a href="https://exe.io/HorimiyaS1" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/HorimiyaS2.jpg" alt="Horimiya T2">
        <h3>Horimiya - Temp 2</h3>
        <a href="https://exe.io/HorimiyaS2" target="_blank">Descargar</a>
      </div>
    </div>

    <!-- Mushoku Tensei -->
    <h3 class="anime-section-title">üè∞ Mushoku Tensei</h3>
    <div class="anime-grid">
      <div class="anime-card">
        <img src="img/Mushoku Tensei tem 1.png" alt="Mushoku Tensei T1">
        <h3>Mushoku Tensei - Temp 1</h3>
        <a href="https://exe.io/MushokuTenseitem1" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/MushokuTenseiS2.jpg" alt="Mushoku Tensei S2">
        <h3>Mushoku Tensei - Temp 2</h3>
        <a href="https://exe.io/MushokuTenseiS2" target="_blank">Descargar</a>
      </div>
    </div>

    <!-- Animes de una sola temporada -->
    <h3 class="anime-section-title">üé¨ Animes de una sola temporada</h3>
    <div class="anime-grid">
      <div class="anime-card">
        <img src="img/DRAGON BALL HEROES.png" alt="Dragon Ball Heroes">
        <h3>Dragon Ball Heroes</h3>
        <a href="https://exe.io/DRAGONBALLHEROES" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/Even Given the Worthless tem 1.png" alt="Even Given the Worthless S1">
        <h3>Even Given the Worthless - Temp 1</h3>
        <a href="https://exe.io/EvenGiventheWorthlessS1" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/Sword Art Online Progressive Movie.png" alt="Sword Art Online Progressive Movie">
        <h3>Sword Art Online Progressive Movie</h3>
        <a href="https://exe.io/SwordArtOnlineProgressiveMovie" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/Kono oto tomar√© Season 1.png" alt="Kono Oto Tomare S1">
        <h3>Kono Oto Tomare - Temp 1</h3>
        <a href="https://exe.io/KonoototomareS1" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/Papa no Iukoto o Kikinasai.png" alt="Papa no Iukoto o Kikinasai">
        <h3>Papa no Iukoto o Kikinasai</h3>
        <a href="https://exe.io/PapanoIukotooKikinasai" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/DanMachi tem 1.png" alt="DanMachi T1">
        <h3>DanMachi - Temp 1</h3>
        <a href="https://exe.io/DanMachitem1" target="_blank">Descargar</a>
      </div>
      <div class="anime-card">
        <img src="img/Urusei Yatsura temporada 1.jpg" alt="Urusei Yatsura T1">
        <h3>Urusei Yatsura - Temp 1</h3>
        <a href="https://exe.io/UruseiYatsuratemporada1" target="_blank">Descargar</a>
      </div>
    </div>

  </main>

  <!-- FOOTER -->
  <div class="footer-folder">
    <section>
      <h3>üì≤ App Anime TV</h3>
      <a href="https://exe.io/ANIMETV" target="_blank" class="apk">üì• Descargar APK</a>
      <p>Incluye chat p√∫blico y privado para fans. üéå</p>
    </section>

    <section>
      <h3>üì¢ Comunidad en WhatsApp</h3>
      <a href="https://chat.whatsapp.com/LgQP3YXx2eS2XRav5ashRm" target="_blank" class="floating-btn floating-request" title="¬°Pide tu anime!">
        ¬°Pide tu anime!
      </a>
    </section>

    <section>
      <h3>üîó S√≠guenos</h3>
      <a href="https://www.youtube.com/@STUDIOOTAKU1" target="_blank" class="youtube">YouTube</a>
      <a href="https://www.facebook.com/STUDIOOTAKU1" target="_blank" class="facebook">Facebook</a>
      <a href="https://rumble.com/c/c-6184817?e9s=src_v1_clr" target="_blank" class="rumble">Rumble</a>
    </section>

    <footer>
      <p>üåü Gracias por ser parte de <strong>Studio-Otaku</strong></p>
      <p>‚ù•‚úµüåô Comparte y vive el anime junto a nosotros</p>
      <div class="hashtags">
        <span>#AnimeALaCarta</span>
        <span>#StudioAnime</span>
        <span>#KimetsuNoYaiba</span>
        <span>#CastilloInfinito</span>
        <span>#SubEspa√±ol</span>
        <span>#AnimeTV</span>
        <span>#Actualizaci√≥nApp</span>
      </div>
      <p style="margin-top: 1rem; font-size: 0.8rem; color: #ccc;">&copy; 2025 StudioOtaku. Todos los derechos reservados.</p>
    </footer>
  </div>

  <a href="#" class="floating-btn floating-home" title="Ir al inicio">
    ‚¨ÜÔ∏è
  </a>

  <!-- Modales de autenticaci√≥n -->
  <div id="login-modal" class="modal hidden">
    <div class="modal-content">
      <span class="close" onclick="closeModal('login')">&times;</span>
      <h2>üîê Iniciar Sesi√≥n</h2>
      
      <!-- Bot√≥n de Google -->
      <div class="google-login-section">
        <button onclick="googleLogin()" class="google-btn modal-google-btn">
          <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCA0OCA0OCI+PHBhdGggZmlsbD0iI0ZGRkZGRiIgZD0iTTQzLjYxMSwyMC4wODNIMzQuMzc1djI2LjcyNWMwLDAsMC4wODQsMC4xMjcsMC4yMTIsMC4wODRsMTIuMTk1LTEyLjE5NlYyMC4wODN6Ii8+PHBhdGggZmlsbD0iI0ZGRkZGRiIgZD0iTTI0LjAwMSw0OEwzNC4yOTIsMzcuMjc4TDI0LjAwMSwyNi40NzZ2MjEuNTI0eiIvPjxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik0yNC4wMDEsMy4wMDR2MTIuNDY5bDEyLjI5Mi0xMi4yOTJjMC0wLjAwMS0wLjAwMS0wLjAwMSwwLTAuMDAyTDI0LjAwMSwzLjAwNHoiLz48cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNMjQuMDAxLDI2LjQ3NkwxMS43MDksMTQuMTg0Yy0wLjAwMS0wLjAwMS0wLjAwMS0wLjAwMSwwLTAuMDAyTDI0LjAwMSwyNi40NzZ6Ii8+PHBhdGggZmlsbD0iI0ZGRkZGRiIgZD0iTTI0LjAwMSwzLjAwNEwxMS43MDksMTQuMTg0YzAuMDAxLDAuMDAxLDAuMDAxLDAuMDAxLDAsMC4wMDJMMjQuMDAxLDMuMDA0eiIvPjwvc3ZnPg==" alt="Google" class="google-icon">
          Continuar con Google
        </button>
        <div class="divider">
          <span>o</span>
        </div>
      </div>
      
      <form id="login-form">
        <input type="text" name="username" placeholder="Usuario o Email" required>
        <input type="password" name="password" placeholder="Contrase√±a" required>
        <button type="submit">Iniciar Sesi√≥n</button>
      </form>
      <p>¬øNo tienes cuenta? <a href="#" onclick="showModal('register')">Reg√≠strate aqu√≠</a></p>
    </div>
  </div>

  <div id="register-modal" class="modal hidden">
    <div class="modal-content">
      <span class="close" onclick="closeModal('register')">&times;</span>
      <h2>üìù Registrarse</h2>
      
      <!-- Bot√≥n de Google -->
      <div class="google-login-section">
        <button onclick="googleLogin()" class="google-btn modal-google-btn">
          <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCA0OCA0OCI+PHBhdGggZmlsbD0iI0ZGRkZGRiIgZD0iTTQzLjYxMSwyMC4wODNIMzQuMzc1djI2LjcyNWMwLDAsMC4wODQsMC4xMjcsMC4yMTIsMC4wODRsMTIuMTk1LTEyLjE5NlYyMC4wODN6Ii8+PHBhdGggZmlsbD0iI0ZGRkZGRiIgZD0iTTI0LjAwMSw0OEwzNC4yOTIsMzcuMjc4TDI0LjAwMSwyNi40NzZ2MjEuNTI0eiIvPjxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik0yNC4wMDEsMy4wMDR2MTIuNDY5bDEyLjI5Mi0xMi4yOTJjMC0wLjAwMS0wLjAwMS0wLjAwMSwwLTAuMDAyTDI0LjAwMSwzLjAwNHoiLz48cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNMjQuMDAxLDI2LjQ3NkwxMS43MDksMTQuMTg0Yy0wLjAwMS0wLjAwMS0wLjAwMS0wLjAwMSwwLTAuMDAyTDI0LjAwMSwyNi40NzZ6Ii8+PHBhdGggZmlsbD0iI0ZGRkZGRiIgZD0iTTI0LjAwMSwzLjAwNEwxMS43MDksMTQuMTg0YzAuMDAxLDAuMDAxLDAuMDAxLDAuMDAxLDAsMC4wMDJMMjQuMDAxLDMuMDA0eiIvPjwvc3ZnPg==" alt="Google" class="google-icon">
          Continuar con Google
        </button>
        <div class="divider">
          <span>o</span>
        </span>
      </div>
      
      <form id="register-form">
        <input type="text" name="username" placeholder="Nombre de usuario" required>
        <input type="email" name="email" placeholder="Email" required>
        <input type="password" name="password" placeholder="Contrase√±a" required>
        <input type="password" name="confirm_password" placeholder="Confirmar contrase√±a" required>
        <button type="submit">Registrarse</button>
      </form>
      <p>¬øYa tienes cuenta? <a href="#" onclick="showModal('login')">Inicia sesi√≥n aqu√≠</a></p>
    </div>
  </div>

  <div id="vip-modal" class="modal hidden">
    <div class="modal-content">
      <span class="close" onclick="closeModal('vip')">&times;</span>
      <h2>üëë Suscripci√≥n VIP</h2>
      <div class="vip-info">
        <h3>Beneficios VIP:</h3>
        <ul>
          <li>‚úÖ Acceso completo a todos los animes</li>
          <li>‚úÖ Descargas ilimitadas</li>
          <li>‚úÖ Sin publicidad</li>
          <li>‚úÖ Contenido exclusivo</li>
        </ul>
        <div class="pricing">
          <div class="price-option">
            <h4>üá®üá¥ Colombia</h4>
            <p class="price">$20.000 COP</p>
            <p class="period">por mes</p>
          </div>
          <div class="price-option">
            <h4>üá∫üá∏ Internacional</h4>
            <p class="price">$5.00 USD</p>
            <p class="period">por mes</p>
          </div>
        </div>
        <div class="payment-methods">
          <h4>üí≥ M√©todos de pago:</h4>
          <div class="payment-buttons">
            <a href="https://paypal.me/injenieroensistemas" target="_blank" class="paypal-btn">
              üí≥ PayPal (USD)
            </a>
            <button onclick="showPaymentForm('COP')" class="cop-btn">
              üè¶ Llave Bancaria (COP)
            </button>
          </div>
          <div class="payment-details-info">
            <p><strong>PayPal:</strong> Para pagos en d√≥lares desde cualquier pa√≠s</p>
            <p><strong>Llave Bancaria:</strong> Para pagos en pesos colombianos (Nequi, Daviplata, Bancos)</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="payment-modal" class="modal hidden">
    <div class="modal-content">
      <span class="close" onclick="closeModal('payment')">&times;</span>
      <h2>üí≥ Completar Suscripci√≥n VIP</h2>
      <form id="payment-form" enctype="multipart/form-data">
        <input type="hidden" name="currency" id="payment-currency">
        <input type="hidden" name="amount" id="payment-amount">
        
        <div class="payment-details">
          <p><strong>Moneda:</strong> <span id="currency-display"></span></p>
          <p><strong>Monto:</strong> <span id="amount-display"></span></p>
        </div>
        
        <div class="user-info">
          <h4>üìù Informaci√≥n Personal:</h4>
          <input type="text" name="name" placeholder="Tu nombre completo" required>
          <input type="email" name="email" placeholder="Tu email" required>
        </div>
        
        <div class="payment-instructions">
          <h4>üè¶ Instrucciones de pago con Llave Bancaria:</h4>
          <div class="bank-info">
            <p><strong>Llave Bancaria:</strong> <span class="bank-key">STUDIOOTAKU6@GMAIL.COM</span></p>
            <p><strong>M√©todos aceptados:</strong> Nequi, Daviplata, Bancos colombianos</p>
          </div>
          <ol>
            <li>Realiza el pago a la llave bancaria: <strong>STUDIOOTAKU6@GMAIL.COM</strong></li>
            <li>Toma una captura de pantalla del comprobante de pago</li>
            <li>Sube la imagen aqu√≠ para verificaci√≥n</li>
          </ol>
          <div class="payment-note">
            <p>üí° <strong>Nota:</strong> Una vez verificado el pago, recibir√°s acceso VIP inmediatamente.</p>
          </div>
        </div>
        
        <div class="file-upload">
          <input type="file" name="payment_proof" accept="image/*,application/pdf" required>
          <p class="file-info">Formatos permitidos: JPG, PNG, GIF, PDF</p>
        </div>
        
        <button type="submit">üöÄ Enviar Comprobante</button>
      </form>
    </div>
  </div>

  <script>
  // Buscador (ya lo tienes)
  const searchInput = document.querySelector('.search-bar input');
  const animeCards = document.querySelectorAll('.anime-card');
  searchInput.addEventListener('input', function() {
    const query = this.value.toLowerCase();
    animeCards.forEach(card => {
      const title = card.querySelector('h3').textContent.toLowerCase();
      card.style.display = title.includes(query) ? '' : 'none';
    });
  });

  // Flecha scroll arriba con retraso y visibilidad condicional
  const floatingHome = document.querySelector('.floating-home');
  window.addEventListener('scroll', function() {
    if (window.scrollY > 300) {
      floatingHome.classList.add('visible');
    } else {
      floatingHome.classList.remove('visible');
    }
  });
  floatingHome.addEventListener('click', function(e) {
    e.preventDefault();
    setTimeout(() => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }, 500); // 500ms de retraso
  });

  // Sistema de autenticaci√≥n y VIP
  let currentUser = null;

  // Verificar estado de autenticaci√≥n al cargar la p√°gina
  document.addEventListener('DOMContentLoaded', function() {
    checkAuthStatus();
    updateAnimeCards();
  });

  // Funciones para modales
  function showModal(modalType) {
    document.getElementById(modalType + '-modal').classList.remove('hidden');
  }

  function closeModal(modalType) {
    document.getElementById(modalType + '-modal').classList.add('hidden');
  }

  // Cerrar modal al hacer clic fuera
  window.addEventListener('click', function(event) {
    if (event.target.classList.contains('modal')) {
      event.target.classList.add('hidden');
    }
  });

  // Formulario de registro
  document.getElementById('register-form').addEventListener('submit', function(e) {
    e.preventDefault();
    const formData = new FormData(this);
    formData.append('action', 'register');

    if (formData.get('password') !== formData.get('confirm_password')) {
      alert('Las contrase√±as no coinciden');
      return;
    }

    fetch('auth.php', {
      method: 'POST',
      body: formData
    })
    .then(response => response.json())
    .then(data => {
      if (data.success) {
        alert(data.message);
        closeModal('register');
        showModal('login');
        this.reset();
      } else {
        alert('Error: ' + data.message);
      }
    })
    .catch(error => {
      alert('Error de conexi√≥n: ' + error.message);
    });
  });

  // Formulario de login
  document.getElementById('login-form').addEventListener('submit', function(e) {
    e.preventDefault();
    const formData = new FormData(this);
    formData.append('action', 'login');

    fetch('auth.php', {
      method: 'POST',
      body: formData
    })
    .then(response => response.json())
    .then(data => {
      if (data.success) {
        alert(data.message);
        closeModal('login');
        this.reset();
        checkAuthStatus();
      } else {
        alert('Error: ' + data.message);
      }
    })
    .catch(error => {
      alert('Error de conexi√≥n: ' + error.message);
    });
  });

  // Cerrar sesi√≥n
  function logout() {
    fetch('auth.php', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded',
      },
      body: 'action=logout'
    })
    .then(response => response.json())
    .then(data => {
      if (data.success) {
        currentUser = null;
        updateUI();
        updateAnimeCards();
        alert('Sesi√≥n cerrada exitosamente');
      }
    })
    .catch(error => {
      alert('Error al cerrar sesi√≥n: ' + error.message);
    });
  }

  // Verificar estado de autenticaci√≥n
  function checkAuthStatus() {
    fetch('auth.php')
    .then(response => response.json())
    .then(data => {
      if (data.authenticated) {
        currentUser = data.user;
        updateUI();
        updateAnimeCards();
      }
    })
    .catch(error => {
      console.log('Usuario no autenticado');
    });
  }

  // Actualizar interfaz de usuario
  function updateUI() {
    const guestActions = document.getElementById('guest-actions');
    const userActions = document.getElementById('user-actions');
    const usernameDisplay = document.getElementById('username-display');
    const vipStatus = document.getElementById('vip-status');
    const userPicture = document.getElementById('user-picture');

    if (currentUser) {
      guestActions.style.display = 'none';
      userActions.style.display = 'flex';
      usernameDisplay.textContent = `üë§ ${currentUser.username}`;
      
      // Mostrar foto de perfil si existe
      if (currentUser.google_picture) {
        userPicture.src = currentUser.google_picture;
        userPicture.style.display = 'block';
      } else {
        // Foto por defecto si no hay foto de Google
        userPicture.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCI+PHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBmaWxsPSIjZmY1Y2FkIi8+PHN2ZyB4PSI4IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTEyIDEyYzIuMjEgMCA0LTEuNzkgNC00cy0xLjc5LTQtNC00LTQgMS43OS00IDQgMS43OSA0IDQgNHptMCAyYy0yLjY3IDAtOCAxLjM0LTggNHYyaDE2di0yYzAtMi42Ni01LjMzLTQtOC00eiIvPjwvc3ZnPjwvc3ZnPg==';
        userPicture.style.display = 'block';
      }
      
      if (currentUser.is_vip) {
        vipStatus.textContent = 'üëë VIP';
        vipStatus.style.display = 'inline-block';
      } else {
        vipStatus.style.display = 'none';
      }
    } else {
      guestActions.style.display = 'flex';
      userActions.style.display = 'none';
      userPicture.style.display = 'none';
    }
  }

  // Actualizar tarjetas de anime seg√∫n estado VIP
  function updateAnimeCards() {
    const animeCards = document.querySelectorAll('.anime-card');
    
    animeCards.forEach(card => {
      const downloadBtn = card.querySelector('a');
      if (downloadBtn) {
        // El bot√≥n de descarga siempre est√° visible
        downloadBtn.style.display = 'inline-block';
        
        // Remover bot√≥n VIP existente si lo hay
        const existingVipBtn = card.querySelector('.vip-lock');
        if (existingVipBtn) {
          existingVipBtn.remove();
        }
        
        // Solo agregar bot√≥n VIP si el usuario no es VIP
        if (!currentUser || !currentUser.is_vip) {
          const vipBtn = document.createElement('button');
          vipBtn.className = 'vip-lock';
          vipBtn.textContent = 'üëë Obtener VIP para descarga directa';
          vipBtn.onclick = () => showModal('vip');
          card.appendChild(vipBtn);
        }
      }
    });
  }

  // Mostrar formulario de pago
  function showPaymentForm(currency) {
    document.getElementById('payment-currency').value = currency;
    document.getElementById('amount-display').textContent = currency === 'COP' ? '$20.000' : '$5.00';
    
    closeModal('vip');
    showModal('payment');
  }

  // Formulario de pago
  document.getElementById('payment-form').addEventListener('submit', function(e) {
    e.preventDefault();
    const formData = new FormData(this);
    
    // Agregar el monto al formulario
    const currency = formData.get('currency');
    const amount = currency === 'COP' ? 20000 : 5.00;
    formData.set('amount', amount);
    
    // Mostrar indicador de carga
    const submitBtn = this.querySelector('button[type="submit"]');
    const originalText = submitBtn.textContent;
    submitBtn.textContent = '‚è≥ Enviando...';
    submitBtn.disabled = true;
    
    // Mostrar mensaje de estado
    const statusDiv = document.createElement('div');
    statusDiv.style.cssText = 'background: #2a0040; color: #00f0ff; padding: 1rem; border-radius: 8px; margin: 1rem 0; text-align: center;';
    statusDiv.textContent = 'üì§ Enviando comprobante de pago...';
    this.appendChild(statusDiv);
    
    fetch('payment_form.php', {
      method: 'POST',
      body: formData
    })
    .then(response => {
      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }
      return response.json();
    })
    .then(data => {
      statusDiv.remove();
      
      if (data.success) {
        if (data.mail_sent) {
          alert('‚úÖ ¬°Pago enviado exitosamente! Recibir√°s un correo de confirmaci√≥n una vez verificado.');
        } else {
          alert('‚ö†Ô∏è Pago recibido. El correo no se pudo enviar, pero tu solicitud est√° registrada. Te contactaremos pronto.');
        }
        closeModal('payment');
        this.reset();
      } else {
        alert('‚ùå Error: ' + data.message);
      }
    })
    .catch(error => {
      statusDiv.remove();
      console.error('Error completo:', error);
      
      let errorMessage = 'Error de conexi√≥n al enviar el pago.';
      
      if (error.message.includes('Failed to fetch')) {
        errorMessage = '‚ùå Error de conexi√≥n: No se pudo conectar con el servidor.\n\nPosibles causas:\n‚Ä¢ El archivo payment_form.php no existe\n‚Ä¢ Error en el servidor\n‚Ä¢ Problema de red\n\nüí° Soluci√≥n: Verifica que todos los archivos est√©n en el servidor y que PHP est√© funcionando.';
      } else if (error.message.includes('HTTP error')) {
        errorMessage = '‚ùå Error del servidor: ' + error.message + '\n\nüí° Verifica que el archivo payment_form.php est√© funcionando correctamente.';
      }
      
      alert(errorMessage);
    })
    .finally(() => {
      // Restaurar bot√≥n
      submitBtn.textContent = originalText;
      submitBtn.disabled = false;
    });
  });

  // Mostrar modal VIP
  function showVIPModal() {
    if (!currentUser) {
      showModal('login');
      return;
    }
    showModal('vip');
  }

  // Google OAuth Configuration
  const GOOGLE_CLIENT_ID = 'TU_CLIENT_ID_REAL.apps.googleusercontent.com'; // Reemplaza con tu CLIENT_ID real
  const GOOGLE_SCOPES = 'https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile';

  // Cargar Google API
  function loadGoogleAPI() {
    if (typeof gapi === 'undefined') {
      const script = document.createElement('script');
      script.src = 'https://apis.google.com/js/api.js';
      script.onload = initGoogleAPI;
      document.head.appendChild(script);
    } else {
      initGoogleAPI();
    }
  }

  // Inicializar Google API
  function initGoogleAPI() {
    gapi.load('auth2', function() {
      gapi.auth2.init({
        client_id: GOOGLE_CLIENT_ID,
        scope: GOOGLE_SCOPES
      }).then(function(auth2) {
        console.log('Google API inicializada correctamente');
      }).catch(function(error) {
        console.error('Error inicializando Google API:', error);
      });
    });
  }

  // Login con Google
  function googleLogin() {
    if (GOOGLE_CLIENT_ID === 'PON_AQUI_TU_CLIENT_ID.apps.googleusercontent.com') {
      alert('‚ö†Ô∏è Configura tu CLIENT_ID de Google primero en el archivo index.html');
      return;
    }

    if (typeof gapi === 'undefined') {
      loadGoogleAPI();
      setTimeout(googleLogin, 1000);
      return;
    }

    gapi.auth2.getAuthInstance().signIn().then(function(googleUser) {
      const profile = googleUser.getBasicProfile();
      const idToken = googleUser.getAuthResponse().id_token;
      
      // Mostrar indicador de carga
      const googleBtn = document.querySelector('.google-btn');
      const originalText = googleBtn.innerHTML;
      googleBtn.innerHTML = '‚è≥ Autenticando...';
      googleBtn.disabled = true;

      // Enviar token al servidor
      const formData = new FormData();
      formData.append('action', 'google_login');
      formData.append('access_token', idToken);

      fetch('google_auth.php', {
        method: 'POST',
        body: formData
      })
      .then(response => response.json())
      .then(data => {
        if (data.success) {
          currentUser = data.user;
          updateUI();
          updateAnimeCards();
          // Cerrar todos los modales
          closeModal('login');
          closeModal('register');
          alert('üéâ ' + data.message);
        } else {
          alert('‚ùå Error: ' + data.message);
        }
      })
      .catch(error => {
        console.error('Error en login de Google:', error);
        alert('‚ùå Error de conexi√≥n al autenticarse con Google');
      })
      .finally(() => {
        // Restaurar bot√≥n
        googleBtn.innerHTML = originalText;
        googleBtn.disabled = false;
      });
    }).catch(function(error) {
      console.error('Error en autenticaci√≥n de Google:', error);
      alert('‚ùå Error al autenticarse con Google: ' + error.message);
    });
  }

  // Cargar Google API al cargar la p√°gina
  document.addEventListener('DOMContentLoaded', function() {
    loadGoogleAPI();
  });
  </script>
</body>
</html>