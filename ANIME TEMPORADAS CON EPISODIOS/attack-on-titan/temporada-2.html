<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Attack on Titan Temporada 2 - StudioOtaku</title>
  <link rel="stylesheet" href="../../css/anime-catalog.css">
</head>
<body>
  <div class="header">
    <div class="logo">🧧StudioOtaku</div>
    <a href="../../html/index.html" class="back-btn">🏠 Inicio</a>
  </div>

  <div class="main-content">
    <a href="../attack-on-titan/temporadas.html" class="back-btn">← Volver a Attack on Titan</a>

    <div class="title-container">
        <h1 class="season-title">Attack on Titan - Temporada 2</h1>
        <h2 class="episode-title" id="current-episode-title">Cargando...</h2>
    </div>

    <div class="contenedor-video">
      <div class="player-options">
        <button id="opcion1-btn" class="player-btn" onclick="switchPlayer('opcion1')">OPCIÓN 1</button>
        <button id="opcion2-btn" class="player-btn" onclick="switchPlayer('opcion2')">OPCIÓN 2</button>
        <button id="opcion3-btn" class="player-btn" onclick="switchPlayer('opcion3')">OPCIÓN 3</button>
        <button id="opcion4-btn" class="player-btn" onclick="switchPlayer('opcion4')">OPCIÓN 4</button>
      </div>
      <div class="reproductor-video">
        <div class="player-container" id="opcion1-player">
          <iframe src="https://sendvid.com/embed/x7c6g0s7" frameborder="0" allowfullscreen oncontextmenu="return false;"></iframe>
          <div class="video-overlay" oncontextmenu="return false;" onmousedown="if(event.button==2) return false;"></div>
        </div>
        <div class="player-container" id="opcion2-player" style="display: none;">
          <iframe src="https://sendvid.com/embed/x7c6g0s7" frameborder="0" allowfullscreen oncontextmenu="return false;"></iframe>
          <div class="video-overlay" oncontextmenu="return false;" onmousedown="if(event.button==2) return false;"></div>
        </div>
        <div class="player-container" id="opcion3-player" style="display: none;">
          <iframe src="https://sendvid.com/embed/x7c6g0s7" frameborder="0" allowfullscreen oncontextmenu="return false;"></iframe>
          <div class="video-overlay" oncontextmenu="return false;" onmousedown="if(event.button==2) return false;"></div>
        </div>
        <div class="player-container" id="opcion4-player" style="display: none;">
          <iframe src="https://sendvid.com/embed/x7c6g0s7" frameborder="0" allowfullscreen oncontextmenu="return false;"></iframe>
          <div class="video-overlay" oncontextmenu="return false;" onmousedown="if(event.button==2) return false;"></div>
        </div>
      </div>
    </div>

    <div class="episodes-container">
        <h3 style="text-align:center; margin-bottom: 1.5rem; font-size: 1.8rem;">Episodios</h3>
        <div class="episodes-grid" id="episodes-grid">
            <!-- Los episodios se generarán con JavaScript -->
        </div>
    </div>

  </div>

  <script>
    const episodes = [
        { num: 1, title: "Episodio 1", op1: "https://sendvid.com/embed/x7c6g0s7", op2: "", op3: "", op4: "" },
        { num: 2, title: "Episodio 2", op1: "https://sendvid.com/embed/4osnc4ng", op2: "", op3: "", op4: "" },
        { num: 3, title: "Episodio 3", op1: "https://sendvid.com/embed/57xxoob3", op2: "", op3: "", op4: "" },
        { num: 4, title: "Episodio 4", op1: "https://sendvid.com/embed/2gxk2wqo", op2: "", op3: "", op4: "" }
    ];

    const episodesGrid = document.getElementById('episodes-grid');
    const currentEpisodeTitle = document.getElementById('current-episode-title');
    const playerIframes = {
        opcion1: document.querySelector('#opcion1-player iframe'),
        opcion2: document.querySelector('#opcion2-player iframe'),
        opcion3: document.querySelector('#opcion3-player iframe'),
        opcion4: document.querySelector('#opcion4-player iframe')
    };

    function switchPlayer(option) {
      document.querySelectorAll('.player-btn').forEach(btn => btn.classList.remove('active'));
      document.querySelectorAll('.player-container').forEach(container => container.classList.remove('active'));
      
      document.getElementById(option + '-btn').classList.add('active');
      document.getElementById(option + '-player').classList.add('active');
    }

    function loadEpisode(episode) {
        currentEpisodeTitle.textContent = `Episodio ${episode.num}: ${episode.title}`;

        playerIframes.opcion1.src = episode.op1;
        playerIframes.opcion2.src = episode.op2;
        playerIframes.opcion3.src = episode.op3;
        playerIframes.opcion4.src = episode.op4;

        document.querySelectorAll('.episode-item').forEach(item => item.classList.remove('active'));
        document.getElementById(`ep-${episode.num}`).classList.add('active');
    }

    document.addEventListener('DOMContentLoaded', function() {
        episodes.forEach(ep => {
            const epItem = document.createElement('div');
            epItem.className = 'episode-item';
            epItem.id = `ep-${ep.num}`;
            epItem.textContent = `Episodio ${ep.num}`;
            epItem.onclick = () => loadEpisode(ep);
            episodesGrid.appendChild(epItem);
        });

        // Cargar el primer episodio por defecto
        if (episodes.length > 0) {
            loadEpisode(episodes[0]);
        }

        // Activar el primer reproductor por defecto
        switchPlayer('opcion1');
    });
  </script>
</body>
</html>

